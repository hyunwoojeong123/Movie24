[TOC]

# README

> 영화 정보 커뮤니티 'Movie24'
>
> - 아키텍처: Django REST API 서버 & Vue.js
> - 개발기간: 2020.11.19 ~ 11.26 총 8일



## 1. 팀원 정보 및 업무 분담 내역

- **박봉현**
  - Frontend - Movie Part /  css 디자인 / 영상발표 담당
- **정현우**
  - Backend / 추천영화 및 영화 세부정보 / UX 디자인 담당
- **이동훈**
  - Frontend - Community Part /  별점 구현 및 Pagination / README, PPT 담당



## 2. 목표 서비스 구현 및 실제 구현 정도

> 별점 기반 영화 추천 서비스 제공 
>
> 평론가 / 장르별 / 상영중 영화 추천 서비스 제공
>
> 영화 토론 커뮤니티 구현
>
> 유저 등급 기능 구현 



## 3. 데이터베이스 모델링(ERD)

![ERD](README.assets/ERD.JPG)



## 4. 필수 기능에 대한 설명

- **관리자 뷰 (django-admin)** 

  - 관리자 권한의 유저만 영화 등록 / 수정 / 삭제 권한을 가집니다.
  - 관리자 권한의 유저만 유저 관리 권한을 가집니다.

  

- **영화 정보**

  - TMDB Api를 통해 데이터를 수집하고 저장하였습니다.
  - 로그인 된 유저가 영화에 대한 별점, 리뷰 등록 / 수정 / 삭제 가능
  - 영화 상세 페이지에서 포스터, 개봉일, 줄거리 등을 확인 할 수 있습니다. 
  - 영화 전체 목록에서 제목 검색 기능 구현

  

- **추천 알고리즘**

  - 별점 기반 영화 추천 기능

    - 유저는 영화 상세 정보 페이지에서 영화의 별점을 매길 수 있습니다.
- 만약 별점을 7점 이상 준다면, 유저가 선호하는 영화로 인식됩니다.
    - 유저가 선호하는 영화를 바탕으로, 홈 화면에서 비슷한 유형의 영화 리스트를 보여줍니다.

      - API 요청: `https://api.themoviedb.org/3/movie/${movieId}/similar`

  - 평론가 평점 / 장르별 / 상영중 영화 추천 기능

  

- **커뮤니티**

  - 로그인한 사용자만 글 조회 / 생성 가능
  - 작성자 본인만 글 수정 / 삭제 가능
  - 로그인한 사용자만 댓글 조회 / 생성 가능
  - 페이지네이션을 적용하여 한 번에 10개이 게시글이 먼저 보이도록 설정
  - 댓글수와 조회수를 표시
    - 조회수를 기반으로 베스트 게시글 3개를 상단에서 먼저 보여줌
  - 검색 기능(제목, 아이디)을 추가하여, 해당 문자열이 있는 게시글 목록이 보이도록 설정



- **기타 추가 기능**
  - 영화 상세 정보 페이지에서 유튜브 리뷰영상 자동재생 구현
  - 유저 랭크 기능 구현
    - 게시글을 달면 +100P, 댓글을 달면 +10P
    - 이렇게 획득한 Point를 기준으로 등급을 나눔 (브론즈, 실버, 골드)
  - 별점 기능 구현
    - 별 반개 당 1점씩 하여 총 10점 만점 구현
    - 실제 프론트에서 별을 클릭하도록 구현
  - 웹페이지 디자인



## 5. 배포 서버 URL

미정



## 6. 기타(느낀점)

### **백엔드**

 **1) 초기 구상을 확실히 하기** 

무작정 코딩을 하기보다 DB를 어떻게 짤 것인지에 대해 많은 고민을 해야겠다고 느꼈다. 처음 TMDB에서 영화 데이터들을 가져올 때 한 영화의 장르가 여러개인 경우 모델에 배열을 받는 필드가 없어서 그냥 뺴버렸다. 그런데 나중에 영화 목록에서 장르 별 영화를 볼 수 있는 필터를 만들려 할 때 DB에 저장된 영화모델에 장르 정보가 없어서 구현을 하지 못했다. 프젝을 시작하기전 초기 DB 구상에 이번보다 훨씬 더 많은 시간을 써야겠다.  

**2) DB 데이터를 싹 다 날려버리는 프로그램 구현하기** 

프론트엔드에서 원하는 데이터에 따라 DB를 조금씩 수정해야 했다. 이를 위해 장고 각 앱의 pycache와 migration폴더에서 init.py를 제외한 나머지를 삭제해야 했다. 이 떄 일일이 하나씩 지우다 보니 시간 낭비가 컸다. 이를 지우는 프로그램을 하나 짜서 사용하면 시간을 많이 아낄 수 있을 것이다.  



### **프론트엔드** 

**1) 초기 구상을 확실히 하기** 

프론트에서 중복되는 부분이 너무 많았다. 예를 들어서 영화의 포스터,제목을 담는 component인 moviecard의 경우, 똑같은 기능을 하는 것이 3개나 있었다. 이 역시 초기 구상을 제대로 하지 않고 넘어가서 생긴 문제이다. 프론트, 백 양단 모두 무작정 코딩을 하기보다 구상을 해서 기초를 확실히 잡고 가는 것이 나중에 유지, 보수, 기능 추가를 할 때 훨씬 편하다는 것을 느꼈다.  

**2) 중복되는 부분은 함수 또는 component로 만들어서 편하게 가져다 쓰기** 

위에 언급한 moviecard 뿐만 아니라, home.vue의 created에서, axios 요청을 굉장히 많이 했는데, 일일히 다 복사 붙여넣기를 했다. 얘를 python의 함수처럼 만들어서 관리했으면, 훨씬 코드의 가독성도 좋고, 코드 짜기도 편했을 것이다.  

**3) JS 기초를 확실히 다지기** 

vue의 경우 편의성이 좋아 초보인 상태에서도 개발하기 편했다. 하지만, method나 created 같은 곳의 함수에서 조금만 복잡한 알고리즘이 들어가면, JS 문법이 제대로 잡혀있지 않다 보니, 파이썬으로 할 때는 쉬운 것도 구현하기가 어려웠다. JS 기초를 확실히 다져놓자. 

**4) DB를 다루는 부분은 무조건 백앤드와 얘기하자**

프론트앤드만으로도 충분히 구현이 가능할 거라 생각했던 기능들이, 실제 구현해보니 결국 백앤드에게 도움을 요청하게 되었다. 실제로 백앤드에서 로직을 잘짜주면, 매우 편하게 작업할 수 있으므로 항상 이점을 유념해둬야겠다.  물론 프론트앤드와 백앤드 간 마찰을 소통을 통해 최소화 해야할 것이다.



### **GIT 협업** 

**1) Branch를 좀 더 세분화하기** 

이번 작업의 경우 master에서 1번씩만 branch를 해서 각각 기능을 개발하고 master에 merge하는 식으로 했다.  그래서 pull을 굉장히 많이 받았어야 했다. 만약 이를 먼저 충돌이 안 나게 vue파일 별로 나누고, 다시 거기서 분화시켜서 작업했으면, 훨씬 효율적으로 작업이 가능했을 것 같다.  

**2) 프로젝트 관리 프로그램 사용하기** 

프로젝트 진행시 누가 어떤 업무를 진행중이고 어느 파일을 수정하고 있는지를 카톡 단체방을 이용해서 체크했다. 카톡방보다 트렐로와 같은 프로그램을 사용하면 이를 체크하기가 훨씬 편했을 것이다.

**3) Git Comment 부분 잘 활용하기**

지금이야 연락할 수 있는 수단도 많고, 각자 작업 시간 또한 비슷하지만, 현업에서는 그렇지 않을 것이다. 이 때 유용하게 사용할 수 있는 기능이 Gitlab의 코멘트 라고 생각한다. 의견을 남겨주면 추후 반영하거나, 반영하지 않는데에 있어 도움이 된다. 시간의 구애를 받지 않는 점도 장점이다.

  

### **보완해야 할 점** 

vue에서 axios 요청같은 애들을 URL주소, APIKey, data만 인자로 받는 함수로 만들어서 쓰는 법 익히기 

JS 문법 기초 다지기 

git flow 방법론 공부하기 

프로젝트 관리 프로그램 사용법 익히기 

코딩하기 전 구상 확실히 잡고 가기 

반복되는 작업(예: DB데이터 다 날리기)은 프로그램으로 짜서 효율적으로 하기

시간이 허락하면 리팩토링 하기